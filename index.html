import React, { useState, useEffect } from 'react';
import Navbar from './components/Navbar';
import Hero from './components/Hero';
import Vision from './components/Vision';
import FeaturesCarousel from './components/FeaturesCarousel';
import Newsletter from './components/Newsletter';
import Footer from './components/Footer';
import FloatingWhatsApp from './components/FloatingWhatsApp';
import { Language } from './types';

function App() {
  const [lang, setLang] = useState<Language>('en');

  // Handle RTL direction updates
  useEffect(() => {
    document.documentElement.lang = lang;
    document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
  }, [lang]);

  return (
    <div className={`min-h-screen font-sans ${lang === 'ar' ? 'font-arabic' : ''} bg-ilm-bg text-ilm-text overflow-x-hidden`}>
      <Navbar lang={lang} setLang={setLang} />
      <main>
        <Hero lang={lang} />
        <Vision lang={lang} />
        <FeaturesCarousel lang={lang} />
        <Newsletter lang={lang} />
      </main>
      <Footer lang={lang} />
      <FloatingWhatsApp />
    </div>
  );
}

export default App;
